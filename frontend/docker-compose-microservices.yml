version: '3.8'

name: careercoach

services:
  # Dashboard Microservice
  dashboard-service:
    build:
      context: .
      dockerfile: Dockerfile
    container_name: careercoach-dashboard
    ports:
      - "4001:80"
    environment:
      - FEATURE_NAME=dashboard
      - VITE_API_BASE_URL=http://localhost:8000
    networks:
      - careercoach-microservices-network
    restart: unless-stopped

  # Course Recommendations Microservice
  courses-service:
    build:
      context: .
      dockerfile: Dockerfile
    container_name: careercoach-courses
    ports:
      - "4002:80"
    environment:
      - FEATURE_NAME=courses
      - VITE_API_BASE_URL=http://localhost:8000
    networks:
      - careercoach-microservices-network
    restart: unless-stopped

  # Skills Assessment Microservice
  skills-assessment-service:
    build:
      context: .
      dockerfile: Dockerfile
    container_name: careercoach-skills-assessment
    ports:
      - "4003:80"
    environment:
      - FEATURE_NAME=skills-assessment
      - VITE_API_BASE_URL=http://localhost:8000
    networks:
      - careercoach-microservices-network
    restart: unless-stopped

  # Career Path Planner Microservice
  career-path-service:
    build:
      context: .
      dockerfile: Dockerfile
    container_name: careercoach-career-path
    ports:
      - "4004:80"
    environment:
      - FEATURE_NAME=career-path
      - VITE_API_BASE_URL=http://localhost:8000
    networks:
      - careercoach-microservices-network
    restart: unless-stopped

  # Job Market Insights Microservice
  market-insights-service:
    build:
      context: .
      dockerfile: Dockerfile
    container_name: careercoach-market-insights
    ports:
      - "4005:80"
    environment:
      - FEATURE_NAME=market-insights
      - VITE_API_BASE_URL=http://localhost:8000
    networks:
      - careercoach-microservices-network
    restart: unless-stopped

  # Interview Prep Microservice
  interview-prep-service:
    build:
      context: .
      dockerfile: Dockerfile
    container_name: careercoach-interview-prep
    ports:
      - "4006:80"
    environment:
      - FEATURE_NAME=interview-prep
      - VITE_API_BASE_URL=http://localhost:8000
    networks:
      - careercoach-microservices-network
    restart: unless-stopped

  # Career Goals Microservice
  career-goals-service:
    build:
      context: .
      dockerfile: Dockerfile
    container_name: careercoach-career-goals
    ports:
      - "4007:80"
    environment:
      - FEATURE_NAME=career-goals
      - VITE_API_BASE_URL=http://localhost:8000
    networks:
      - careercoach-microservices-network
    restart: unless-stopped

  # Leaderboard Microservice
  leaderboard-service:
    build:
      context: .
      dockerfile: Dockerfile
    container_name: careercoach-leaderboard
    ports:
      - "4008:80"
    environment:
      - FEATURE_NAME=leaderboard
      - VITE_API_BASE_URL=http://localhost:8000
    networks:
      - careercoach-microservices-network
    restart: unless-stopped

  # Profile Microservice
  profile-service:
    build:
      context: .
      dockerfile: Dockerfile
    container_name: careercoach-profile
    ports:
      - "4009:80"
    environment:
      - FEATURE_NAME=profile
      - VITE_API_BASE_URL=http://localhost:8000
    networks:
      - careercoach-microservices-network
    restart: unless-stopped

networks:
  careercoach-microservices-network:
    driver: bridge

